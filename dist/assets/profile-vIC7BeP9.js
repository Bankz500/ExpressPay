import"./modulepreload-polyfill-B5Qt9EMX.js";import{initializeApp as l}from"https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js";import{getAuth as d,onAuthStateChanged as u,signOut as m}from"https://www.gstatic.com/firebasejs/9.1.3/firebase-auth.js";import{getFirestore as g,doc as a,getDoc as i}from"https://www.gstatic.com/firebasejs/9.1.3/firebase-firestore.js";const f={apiKey:"AIzaSyA3OvFCz4sU4QnZAPnFrc_yzZezjzlzkgY",authDomain:"exprespay-26ac0.firebaseapp.com",projectId:"exprespay-26ac0",storageBucket:"exprespay-26ac0.firebasestorage.app",messagingSenderId:"933418932546",appId:"1:933418932546:web:1eaac518eecab2042390db",measurementId:"G-8ECL5E373T"},r=l(f),s=d(r),c=g(r);u(s,async e=>{if(e){const o=a(c,"users",e.uid),n=await i(o);if(n.exists()){const t=n.data();document.getElementById("Deposit-account").textContent=`${t.deposit||"0.00"}`,document.getElementById("Profit-wallet").textContent=`${t.profit||"0.00"}`,document.getElementById("wallet").textContent=`${t.wallet||"0.00"}`,document.getElementById("welcome-message").textContent=`Welcome ${t.name}`,document.getElementById("displayEmail").textContent=e.email}else console.log("No user document found in Firestore."),alert("No user data found.")}else console.log("No user signed in, redirecting to sign-in page."),window.location.href="sign-in.html"});window.signOut=function(){m(s).then(()=>{alert("Signed out successfully!"),window.location.href="sign-in.html"}).catch(e=>{alert("Error signing out: "+e.message)})};async function p(){const e=s.currentUser;if(e){const o=a(c,"users",e.uid),n=await i(o);if(n.exists()){const t=n.data();document.getElementById("firstName").value=t.firstName||"",document.getElementById("lastName").value=t.lastName||"",document.getElementById("email").value=e.email,document.getElementById("profileInfoCard").classList.remove("hidden")}else alert("No user document found in Firestore.")}else alert("No user is currently signed in.")}document.querySelector('a[onclick="showUserInfo()"]').addEventListener("click",p);
